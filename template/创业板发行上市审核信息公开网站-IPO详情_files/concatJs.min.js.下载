function isPlaceholder(){return"placeholder"in document.createElement("input")}function placeholderCompatibilityIE9(){$(":input[placeholder]").each(function(t,e){if(10===document.documentMode||11===document.documentMode){if($(this).hasClass("need-repaired-placeholder")){var n=$(this).attr("placeholder");$(this).removeAttr("placeholder"),repairedPlaceholder(this,n)}}else repairedPlaceholder(this)})}function repairedPlaceholder(t,e){var n,i=$(t),a=i.attr("placeholder")||e,s=i.parent(".placeholder");if("none"!==i.css("display")){if(0<s.length){var o=i.position(),r=i.outerHeight(),h=i.css("padding-left"),l=(i.css("padding-top"),i.outerWidth(!0),i.css("text-align")),c=i.css("font-size"),d=i.css("margin-top"),p=i.css("margin-right"),m=i.css("margin-bottom"),u=i.css("margin-left");(n=s.find("span")).css({position:"absolute",left:o.left,top:o.top,height:r,lineHeight:r+"px",paddingLeft:h,"margin-top":d,"margin-right":p,"margin-bottom":m,"margin-left":u,color:"#aaa",zIndex:"100",width:"100%",overflow:"hidden",whiteSpace:"nowrap","text-align":l||"inherit","font-size":c})}else{i.wrap($("<div></div>").css({position:"relative",zoom:"1",border:"none",background:"none",padding:"none",margin:"none"}).addClass("placeholder"));o=i.position(),r=i.outerHeight(),h=i.css("padding-left"),i.css("padding-top"),i.outerWidth(!0),l=i.css("text-align"),c=i.css("font-size"),d=i.css("margin-top"),p=i.css("margin-right"),m=i.css("margin-bottom"),u=i.css("margin-left");n=$("<span></span>").text(a).css({position:"absolute",left:o.left,top:o.top,height:r,lineHeight:r+"px",paddingLeft:h,"margin-top":d,"margin-right":p,"margin-bottom":m,"margin-left":u,color:"#aaa",zIndex:"100",width:"100%",overflow:"hidden",whiteSpace:"nowrap","text-align":l||"inherit","font-size":c}).appendTo(i.parent())}$.trim(i.val())?n.hide():n.show(),i.focusin(function(t){n.hide()}).focusout(function(t){i.val()||n.show()}),n.click(function(t){n.hide(),i.focus()})}}function iePlaceholderSuppose(){isPlaceholder()&&10!==document.documentMode&&11!==document.documentMode||placeholderCompatibilityIE9()}function rebuildRepairedPlaceholder(t,e){isPlaceholder()&&(10!==document.documentMode&&11!==document.documentMode||!$(t).hasClass("need-repaired-placeholder"))||repairedPlaceholder(t,e),$(t).parents(".c-datepicker-container").next().hide()}function getObjName(){var t=window.location.href,e=t.indexOf("//");return e=(t=t.substring(e+2)).indexOf("/"),t.substring(0,e)}function urlAddHttps(t,e){var n=getObjName(),i=t.indexOf("//");return i<0?e+"://"+n+t:e+"://"+(t=t.substring(i+2))}window.util={fAdd:function(t,e){var n,i,a,s,o,r="";try{n=t.toString().split(".")[1].length}catch(t){n=0}try{i=e.toString().split(".")[1].length}catch(t){i=0}a=Math.max(n,i),o=(s=(t=+(+t).toFixed(a).replace(/\./g,""))+(e=+(+e).toFixed(a).replace(/\./g,""))+"").length-a,+s<0&&o--;for(var h=o;h<0;h++)r+="0";return 0===a?s:o<=0&&+s<0?"-0."+r+s.replace(/\-/g,""):o<=0&&0<=+s?"0."+r+s:0<o&&+s<0?"-"+(s=s.replace(/\-/,"")).slice(0,o)+"."+s.slice(-a):0<o&&0<=+s?s.slice(0,o)+"."+s.slice(-a):void 0},fSubtract:function(t,e){var n,i,a,s,o,r="";try{n=t.toString().split(".")[1].length}catch(t){n=0}try{i=e.toString().split(".")[1].length}catch(t){i=0}a=Math.max(n,i),o=(s=(t=+(+t).toFixed(a).replace(/\./g,""))-(e=+(+e).toFixed(a).replace(/\./g,""))+"").length-a,+s<0&&o--;for(var h=o;h<0;h++)r+="0";return 0===a?s:o<=0&&+s<0?"-0."+r+s.replace(/\-/g,""):o<=0&&0<=+s?"0."+r+s:0<o&&+s<0?"-"+(s=s.replace(/\-/,"")).slice(0,o)+"."+s.slice(-a):0<o&&0<=+s?s.slice(0,o)+"."+s.slice(-a):void 0},fRemainder:function(t,e){var n,i,a;t+="";var s=/\./,o="";n=s.test(t)?t.split(".")[1].length:0;for(var r=a=(i=+t.replace(s,"")%e+"").length-n;r<0;r++)o+="0";return 0===n?i:a<=0?"0."+o+i:i.slice(0,a)+"."+i.slice(-n)},fDiv:function(t,e,n){var i;n=n||2;try{t.toString().split(".")[1].length}catch(t){0}try{e.toString().split(".")[1].length}catch(t){0}return t=+(+t).toFixed(n).replace(/\./g,""),e=+(+e).toFixed(n).replace(/\./g,""),/\./.test(i=t/e+"")?i.toFixed(n):i},getQueryString:function(t){var e=new RegExp("(^|&)"+t+"=([^&]*)(&|$)"),n=window.location.search.substr(1).match(e);return null!=n?$.trim(decodeURI(n[2]).toString().replace(/<[^>]+>/g,"")):null},getHashString:function(t){var e=new RegExp("(^|&)"+t+"=([^&]*)(&|$)"),n=window.location.hash.substr(1).match(e);return null!=n?$.trim(decodeURI(n[2]).toString().replace(/<[^>]+>/g,"")):null},getObjectbyId:function(t,e,n){for(var i in n)if(n[i][t]==e)return n[i]},getTextidByCode:function(t,e,n,i){return this.getObjectbyId(t,e,n)[i]},getDevice:function(){var t=navigator.userAgent,e=/(?:Windows Phone)/.test(t),n=/(?:SymbianOS)/.test(t)||e,i=/(?:Android)/.test(t),a=/(?:Firefox)/.test(t),s=/(?:Chrome|CriOs)/.test(t),o=/(?:iPad|PlayBook)/.test(t)||i&&!/(?:Mobile)/.test(t)||a&&/(?:Tablet)/.test(t),r=/(?:iPhone)/.test(t)&&!o;return{isWindowsPhone:e,isSymbian:n,isAndroid:i,isFireFox:a,isChrome:s,isTablet:o,isPhone:r,isPc:!(r||i||n||o)}},toThousands:function(t,e){return(t=e?(t||0).toFixed(e).split("."):(t||0).toString().split("."))[0].replace(/(\d)(?=(?:\d{3})+$)/g,"$1,")+(t[1]?"."+t[1]:"")},toSlice:function(t,e){if("number"!=typeof e)throw Error(e+" needed be a number");if(e<0)throw Error(e+" needed be a positive number ");var n=String(t),i=n.indexOf(".");return i<0?t.toFixed(e):e-n.split(".")[1].length<=0?n.slice(0,i+1+e):t.toFixed(e)},isEnglish:function(){return"English"===this.getOtherSite()||"enydyl"===this.getOtherSite()||"enSzhk"===this.getOtherSite()||"enqfii"===this.getOtherSite()},isNeedTrueHQData:function(){return"option"===this.getOtherSite()},getOtherSite:function(){var t=window.location.protocol+"//"+window.location.host,e=window.location.href,n=e.indexOf(e)+t.length+1;return-1<e.indexOf("big5.szse.cn")&&(n+=9,n=(e=e.substring(n)).indexOf("/")+1),0<(n=(e=e.substring(n)).indexOf("/"))&&(e=e.substring(0,n)),e}},window.fnDebounce=function(t,e,n){var i,a;switch(typeof e){case"number":i=e,a=n||"leading";break;case"string":i=250,a=e;break;default:i=250,a="leading"}var s="leading"===a?{leading:!0,trailing:!1}:{leading:!1,trailing:!0};return _.debounce(t,i,s)},function(){"use strict";var n,i;Jx().package("s.ui.controls",function(t){var n=0,e={position:"auto",minDate:"1900-01-01",maxDate:"2099-12-31",format:"YYYY/MM/DD",connector:"~",dayRange:[0,6],firstDay:0,onSelected:function(){}};this.Weekpicker=new t.Class({extend:s.ui.BaseControl},{defaults:e,attributeMap:{minDate:"min-date",maxDate:"max-date",format:"format",connector:"connector",firstDay:"first-day",position:"position",name:"name",dayRange:"day-range"},settings:{},value:"",data:{},templates:{},init:function(t,e){this.element=$(t),this.element.data("initialized")||(this.element.data("initialized",!0),n+=1,this.element.data("plugin-id",n),this.initSettings(e),this.buildHtml(),this.initElements(),this.initParams(),this.buildYearMonth(),this.transferAttributes(),this.bindEvents())},initParams:function(){this.calendar={},0!=this.settings.firstDay&&(this.settings.firstDay=1),"string"==typeof this.settings.minDate&&(this.settings.minDate=moment(this.settings.minDate,this.settings.format)),"string"==typeof this.settings.maxDate&&(this.settings.maxDate=moment(this.settings.maxDate,this.settings.format)),"object"==typeof this.settings.minDate&&(this.settings.minDate=moment(this.settings.minDate)),"object"==typeof this.settings.maxDate&&(this.settings.maxDate=moment(this.settings.maxDate)),this.settings.minDate&&(this.settings.minYear=moment(this.settings.minDate).year()),this.settings.maxDate&&(this.settings.maxYear=moment(this.settings.maxDate).year())},buildHtml:function(){var t=this.element.data("plugin-id"),e='<div class="c-weekpicker-container">  <span class="glyphicon-calendar" data-s-dropdown-id="#c-weekpicker-menu-'+t+'"></span>  <ul id="c-weekpicker-menu-'+t+'" class="weekpicker dropdown-menu">     <div class="weekpicker-control">    \t <div class="icon-prev" title="上一月">    \t   <i class="glyphicon glyphicon-menu-left"></i>      </div>      <div class="calendar-year">        <a class="btn-container"><span></span>年<i class="glyphicon glyphicon-menu-down"></i></a>    \t   <div class="dropdown-menu calendar-years">        </div>      </div>      <div class="calendar-month">        <a class="btn-container"><span></span>月<i class="glyphicon glyphicon-menu-down"></i></a>        <div class="dropdown-menu calendar-months">        </div>      </div>      <div class="icon-next" title="下一月">        <i class="glyphicon glyphicon-menu-right"></i>      </div>    </div>    <div class="calendar-weeks">    </div>  </ul></div>';this.container=$(e),this.element.before(this.container),this.container.prepend(this.element),this.element.attr("data-s-dropdown-id","#c-weekpicker-menu-"+t),this.element.is("input")&&this.element.attr("autocomplete","off")},initElements:function(){this.elements={view:this.element,weekpicker:this.container,menu:$(".weekpicker",this.container),icon:$(".glyphicon-calendar",this.container),prev:$(".weekpicker-control .icon-prev",this.container),next:$(".weekpicker-control .icon-next",this.container),calendarYear:$(".calendar-year",this.container),showYear:$(".calendar-year .btn-container span",this.container),showYearBtn:$(".calendar-year .btn-container",this.container),calendarYears:$(".calendar-year .calendar-years",this.container),calendarMonth:$(".calendar-month",this.container),showMonth:$(".calendar-month .btn-container span",this.container),showMonthBtn:$(".calendar-month .btn-container",this.container),calendarMonths:$(".calendar-month .calendar-months",this.container),calendarWeeks:$(".calendar-weeks",this.container)};var t=this.elements.view.data("plugin-id");this.dropdown=new s.ui.controls.Dropdown(this.elements.view,{_pluginId:t}),this.dropdown1=new s.ui.controls.Dropdown(this.elements.icon,{_pluginId:t})},bindEvents:function(){this.elements.menu.on("click",this.preventDefault),this.elements.view.on("focus",$.proxy(this.debounce(this.focus),this)),this.elements.showYearBtn.on("click",$.proxy(this.showPanel,this,"year")),this.elements.showMonthBtn.on("click",$.proxy(this.showPanel,this,"month")),this.elements.calendarYear.on("click","li",$.proxy(this.yearChanged,this)),this.elements.calendarMonth.on("click","li",$.proxy(this.monthChanged,this)),this.elements.calendarWeeks.on("click","li",$.proxy(this.clickWeek,this)),this.elements.view.on("keyup",$.proxy(this.debounce(this.keyup,900),this)),this.elements.view.on("onSelected",$.proxy(this.settings.onSelected,this)),this.elements.prev.on("click",$.proxy(this.clickPrev,this)),this.elements.next.on("click",$.proxy(this.clickNext,this))},buildYearMonth:function(){for(var t='<ul class="monthselect">',e=0;e<12;e++)t+='<li data-value="'+(e+1)+'">'+(e+1)+"</li>";t+="</ul>",this.elements.calendarMonths.html(t);for(var n=this.settings.maxYear,i='<ul class="yearselect">',a=this.settings.minYear;a<=n;a++)i+="<li data-value="+a+">"+a+"</li>";i+="</ul>",this.elements.calendarYears.html(i),this.autoCurrentDate()},transferAttributes:function(){this.element.prop("disabled")&&this.disable()},preventDefault:function(t){t.preventDefault(),t.stopPropagation()},debounce:function(t,e){return function(i,a,t){var s,o,r,h,l,c,d,p,m,u=0,f=!0;if("function"!=typeof i)throw new TypeError("");function e(t,e){e&&clearTimeout(e),o=c=d=void 0,t&&(u=Date.now(),r=i.apply(l,s),c||o||(s=l=void 0))}function g(){var t=a-(Date.now()-h);t<=0||a<t?e(d,o):c=setTimeout(g,t)}function w(){e(f,c)}function n(){if(s=arguments,h=Date.now(),l=this,d=f&&(c||!p),!1===m)var t=p&&!c;else{o||p||(u=h);var e=m-(h-u),n=e<=0||m<e;n?(o=o&&clearTimeout(o),u=h,r=i.apply(l,s)):o=o||setTimeout(w,e)}return n&&c?c=clearTimeout(c):c||a===m||(c=setTimeout(g,a)),t&&(n=!0,r=i.apply(l,s)),!n||c||o||(s=l=void 0),r}return a=a<0?0:+a||0,p=!!t.leading,m="maxWait"in t&&nativeMax(+t.maxWait||0,a),f="trailing"in t?!!t.trailing:f,n.cancel=function(){c&&clearTimeout(c),o&&clearTimeout(o),o=c=d=void(u=0)},n}(t,e=e||200,{leading:!1,trailing:!0})},focus:function(){this.elements.calendarYears.hide(),this.elements.calendarMonths.hide(),this.elements.calendarYear.removeClass("active"),this.elements.calendarMonth.removeClass("active"),this.renderWeeks()},getBetweenMaxMinDate:function(t){return this.settings.minDate&&t.isBefore(this.settings.minDate)&&(t=this.settings.minDate.clone()),this.settings.maxDate&&t.isAfter(this.settings.maxDate)&&(t=this.settings.maxDate.clone()),t},autoCurrentDate:function(){var t=this.getBetweenMaxMinDate(moment());this.calendar.currentDate=t,this.renderWeeks()},setDate:function(t){var e;t?("string"==typeof t?e=moment(t,"YYYYMMDD"):"object"==typeof t&&(e=moment(t)),this.calendar.selectedDate=this.getBetweenMaxMinDate(e),this.calendar.currentDate=this.calendar.selectedDate.clone()):this.calendar.selectedDate=null,this.renderWeeks()},renderWeeks:function(){this.setMomentWeek(),this.setViewValue(),this.setActiveYear(),this.setActiveMonth(),this.setPrevNextBtn();for(var t=this.calendar,e=t.currentDate.year(),n=t.currentDate.month(),i=moment([e,n]).daysInMonth(),a=moment([e,n,1]),s=moment([e,n,i]),o=a.clone().endOf("week"),r=this.getDateTextOfWeek(t.selectedDate,e,n),h=[];o.isBefore(s);){var l=this.getBetweenMaxMinDate(a.clone().startOf("week"));o=this.getBetweenMaxMinDate(a.clone().endOf("week")),a.add(7,"days");var c=l.clone().day(this.settings.dayRange[0]),d=o.clone().day(this.settings.dayRange[1]);h.push([c,d])}for(var p='<ul class="weekselect">',m=0;m<h.length;m++){var u=this.getDateTextOfWeek(h[m][0],e,n);p+='<li data-value="'+u+'" class="'+(u===r?"selected":"")+'">  <span class="week">第'+h[m][0].week()+"周</span>  <span>"+this.getWeekRange(h[m])+"</span></li>"}p+="</ul>",this.elements.calendarWeeks.html(p),this.removeMomentWeek()},getWeekRange:function(t){return t[0].format(this.settings.format)+" "+this.settings.connector+" "+t[1].format(this.settings.format)},getDateTextOfWeek:function(t,e,n){if(!t)return null;var i,a=this.settings.format,s=moment(t.format(a),a).clone().startOf("week"),o=s.year(),r=s.month();return o===e&&r===n?i=s.format("YYYYMMDD"):(o<e||r<n)&&(i=s.clone().add(7,"days").startOf("month").format("YYYYMMDD")),i},getFistDayOfWeekText:function(t){if(!t)return null;var e=t.format(this.settings.format);return moment(e,this.settings.format).startOf("week").format("YYYYMMDD")},setMomentWeek:function(){this.settings.momentLang=moment.locale();var t=0==this.settings.firstDay?{week:{dow:0,doy:6}}:{week:{dow:1,doy:4}};moment.locale("my-week",t)},removeMomentWeek:function(){moment.locale(this.settings.momentLang)},setActiveYear:function(){var t=this.calendar.currentDate.year();this.elements.showYear.text(t),this.elements.calendarYears.find("li[data-value="+t+"]").addClass("active").siblings().removeClass("active")},setActiveMonth:function(){var t=this.calendar.currentDate.month()+1;this.elements.showMonth.text(t),this.elements.calendarMonths.find("li[data-value="+t+"]").addClass("active").siblings().removeClass("active")},setViewValue:function(){var t=this.calendar.selectedDate,e="";this.settings.format;t&&(e=t.clone().locale("my-week").endOf("week").format("YYYY年第w周"));this.elements.view.val(e)},showPanel:function(t,e){e.preventDefault(),e.stopPropagation(),this.elements.calendarYears.hide(),this.elements.calendarMonths.hide();var n="";if(this.elements.calendarYear.hasClass("active")&&(this.elements.calendarYear.removeClass("active"),n="year"),this.elements.calendarMonth.hasClass("active")&&(this.elements.calendarMonth.removeClass("active"),n="month"),n!=t){var i=this.calendar,a=i.currentDate.month(),s=i.currentDate.year()-(this.scrollerMinYear||this.settings.minDate&&this.settings.minDate.year()||this.settings.minYear)-4;s<0&&(s=0),s*=26;var o=a-3;switch(o<0&&(o=0),o*=26,t){case"year":this.elements.calendarYears.show(),this.elements.calendarYear.addClass("active"),this.elements.calendarYears.scrollTop(s);break;case"month":this.elements.calendarMonths.show(),this.elements.calendarMonth.addClass("active"),this.elements.calendarMonths.scrollTop(o)}}},yearChanged:function(t){var e=$(t.target),n=+e.attr("data-value");this.calendar.currentDate.year(n),this.elements.showYear.text(n),e.addClass("active").siblings().removeClass("active"),this.elements.calendarYear.removeClass("active"),this.elements.calendarYears.hide(),this.renderWeeks()},monthChanged:function(t){var e=$(t.target),n=+e.attr("data-value")-1;this.calendar.currentDate.month(n),this.elements.showMonth.text(n),e.addClass("active").siblings().removeClass("active"),this.elements.calendarMonth.removeClass("active"),this.elements.calendarMonths.hide(),this.renderWeeks()},clickWeek:function(t){var e=$(t.currentTarget).data("value")+"";this.setDate(e),this.elements.view.trigger("onSelected",this.getValue()),this.hide()},formatValue:function(t){this.setMomentWeek();var e,n=this.settings.format;if(moment.isDate(t))e=moment(t);else if("number"==typeof t||/^\d{9,}$/g.test(t))e=moment(new Date(+t));else if("string"==typeof t){(e=t.match(/\d+/g).length<3?moment(t,"YYYYww"):moment(t,n)).isValid||(e=moment.format(t,"YYYYMMDD"))}return e.isValid()||(e=null),this.removeMomentWeek(),e},blur:function(t){var e,n=$.trim(this.elements.view.val());n&&(e=this.formatValue(n)),this.setDate(e)},keyup:function(t){if(!(-1<$.inArray(t.keyCode,[40,39,38,37,9,13,27]))){var e,n=$.trim(this.elements.view.val());n&&(e=this.formatValue(n)),this.setDate(e)}},setValue:function(t){if(t){var e=this.formatValue(t);this.setDate(e)}else this.setDate()},getValue:function(){this.setMomentWeek();var t=this.calendar.selectedDate,e=this.settings.format,n="",i="",a="";if(t)n=(t=moment(t.format(e),e)).clone().startOf("week").format(e),i=t.clone().endOf("week").format(e),a=t.clone().endOf("week").format("YYYY/ww");return this.removeMomentWeek(),{range:[n,i],week:a}},clickPrev:function(t){this.elements.prev.hasClass("disabled")||(this.calendar.currentDate.subtract(1,"month"),this.renderWeeks())},clickNext:function(t){this.elements.next.hasClass("disabled")||(this.calendar.currentDate.add(1,"month"),this.renderWeeks())},setPrevNextBtn:function(){var t=this.calendar.currentDate.year(),e=this.calendar.currentDate.month();t===this.settings.minYear&&0===e?this.elements.prev.addClass("disabled"):t===this.settings.maxYear&&11===e?this.elements.next.addClass("disabled"):(this.elements.prev.removeClass("disabled"),this.elements.next.removeClass("disabled"))},show:function(){this.container.addClass("open")},hide:function(){this.container.removeClass("open")},refresh:function(){},enable:function(){this.elements.view.prop("disabled",!1),this.elements.icon.removeClass("disabled"),this.container.removeClass("disabled")},disable:function(){this.elements.view.prop("disabled",!0),this.elements.icon.addClass("disabled"),this.container.addClass("disabled")},destroy:function(){},getApi:function(){return s.utilities.buildApi(this,{setValue:"setValue",getValue:"getValue"})}})}),n=jQuery,i=s.ui.controls.Weekpicker,n.fn.weekpicker=function(e){return this.each(function(){var t=n(this);t.data("plugin-ref")&&t.data("plugin-ref").destroy(),t.data("plugin-ref",new i(this,n.extend(!0,{},e)))}),this}}(),isPlaceholder()&&10!==document.documentMode&&11!==document.documentMode||placeholderCompatibilityIE9(),Jx().package("s.ui.controls",function(t){"use strict";function n(t,e){for(var n=0;n<a.length;n++){var i=$("."+a[n]).parent();i.hasClass("open")&&("close"!==e&&t&&"click"==t.type&&/input|textarea/i.test(t.target.tagName)&&$.contains(i[0],t.target)||i.removeClass("open"))}}var i=0,a=[];this.searchHint=new t.Class({extend:s.ui.BaseControl},{defaults:{items:8,delay:0,location:"location",zIndex:900,matchMinLength:0,isHighlight:!0,isParentWidth:!1},attributeMap:{},init:function(t,e){this.element=$(t),this.container=this.element.parent(),this.elements={},this.elements.view=this.element,this.element.data("initialized")||(this.element.data("initialized",!0),i+=1,this.element.data("plugin-id",i),a.push("searchhint-list-"+this.element.data("plugin-id")),this.initSettings(e),this.settings.parentWrap&&(this.container=$(this.settings.parentWrap)),this.map=this.settings.map,"string"==typeof this.settings.map&&""!==this.settings.map&&(this.map=JSON.parse(this.settings.map)),this.buildHtml(),this.bindEvents())},buildHtml:function(){var t=$('<div class="searchhint-list searchhint-list-'+this.element.data("plugin-id")+'"><ul></ul></div>'),e=this.element.outerWidth(),n=this.element.outerHeight();this.settings.isParentWidth&&(e=this.container.outerWidth(),n=this.container.outerHeight());var i={position:"absolute"};"location"===this.settings.location&&$.extend(i,{width:e,top:n,left:0,"z-index":this.settings.zIndex}),t.css(i),this.container.addClass("sh-searchhint-container").append(t),this.elements.listWrap=this.container.css("position","relative").find(".searchhint-list")},bindEvents:function(){this.elements.view.on({keyup:$.proxy(this.keyup,this),input:$.proxy(this.input,this),keydown:$.proxy(this.tabkey,this),focus:$.proxy(this.focus,this)}),this.container.on("click","li",$.proxy(this.click,this)),this.container.on("click","#searchHintCusBond",$.proxy(this.addCusBond,this)),"function"==typeof this.settings.onSelected&&this.elements.view.on("onSelected",$.proxy(this.settings.onSelected,this)),"function"==typeof this.settings.onChanged&&this.elements.view.on("onChanged",$.proxy(this.settings.onChanged,this))},tabkey:function(t){9===t.keyCode&&n()},keyup:function(t){window.event?window.event.returnValue=!1:t.preventDefault(),9===document.documentMode&&(8!==t.keyCode&&46!==t.keyCode||this.input(),t.ctrlKey&&88===t.keyCode&&this.input()),-1===$.inArray(t.keyCode,[40,38,13,9])&&this.elements.view.val().length>=this.settings.matchMinLength||this.move(t)},focus:function(){this.lookup()},input:function(){this.lookup(),this.isFistRender=!1},move:function(t){switch(t.keyCode){case 9:n();break;case 38:if(t.shiftKey)return;t.preventDefault(),this.prev();break;case 40:if(t.shiftKey)return;t.preventDefault(),this.next();break;case 13:var e=this.elements.listWrap.find("ul > li.hover");0<e.length&&(this.keyword=e.data("keyword")),this.select(t,this.keyword),this.elements.view.blur()}},prev:function(){var t=this.elements.listWrap.find("ul > li.hover");if(0<t.length){var e=t.removeClass("hover").prev();0<e.length?(e.addClass("hover"),this.elements.view.val(e.data("keyword"))):this.elements.view.val(this.keyword)}else{var n=this.elements.listWrap.find("ul > li:last");n.addClass("hover"),this.elements.view.val(n.data("keyword"))}},next:function(){var t=this.elements.listWrap.find("ul > li.hover");if(0<t.length){var e=t.removeClass("hover").next();0<e.length?(e.addClass("hover"),this.elements.view.val(e.data("keyword"))):this.elements.view.val(this.keyword)}else{var n=this.elements.listWrap.find("ul > li:first");n.addClass("hover"),this.elements.view.val(n.data("keyword"))}},lookup:function(){this.keyword=this.elements.view.val()||"";var t=$.proxy(function(){$.isFunction(this.settings.source)&&this.settings.source(this.keyword,$.proxy(this.process,this))},this);this.elements.view.trigger("onChanged",this.keyword),clearTimeout(e);var e=setTimeout(t,this.settings.delay)},process:function(t){t&&$.isArray(t)&&(this.data=t,"all"===this.settings.itmes?this.render(this.data):this.render(this.data.slice(0,this.settings.items)))},render:function(t){var n=this,e=this.elements.listWrap;if(t.length<1)this.hideListWrap();else{var i,a,s=document.createDocumentFragment();t.map(function(t,e){i=$("<li>",{"data-keyword":t[n.map.value],html:n.settings.isHighlight?n.highlighter(t[n.map.text]):t[n.map.text]}),a=$('<div id="searchHintCusBond" class="pull-right keyword"><span class="glyphicon glyphicon-plus mr5"></span>自选</div> '),t.isOptional&&i.prepend(a),s.appendChild(i.get(0))}),e.find("ul").empty().append(s),this.showListWrap(),this.hover(),this.adjustWindow()}},hover:function(){var t=this;this.elements.listWrap.find("ul > li").hover(function(){t.elements.listWrap.find("ul > li").removeClass("hover"),$(this).addClass("hover")},function(){$(this).removeClass("hover")})},click:function(t){var e=this.elements.listWrap.find("ul > li.hover");if(0!==e.length){var n=e.data("keyword")+"";this.elements.view.val(n),this.select(t,n)}},addCusBond:function(t){var e=$(t.currentTarget).parent("li").index();return $.isFunction(this.settings.addCusBond)&&this.settings.addCusBond(t,this.data[e].code),!1},select:function(t,e){this.keyword=$.trim(e),this.hideListWrap(),this.elements.view.trigger("onSelected",[this.keyword,this.selectedNode(e)])},selectedNode:function(e){var n=this,i={};return this.data&&this.data.every(function(t){return e!=t[n.map.value]||(i=t,!1)}),i},adjustWindow:function(){var i=this;$(window).on("resize",function(){var t=i.element.outerWidth(),e=i.element.outerHeight();i.settings.isParentWidth&&(t=i.container.outerWidth(),e=i.container.outerHeight());var n={position:"absolute"};"location"===i.settings.location&&$.extend(n,{width:t,top:e,left:0,"z-index":i.settings.zIndex}),i.elements.listWrap.css(n)})},highlighter:function(t,e){var n=$("<div></div>"),i=this.keyword;if(!i)return t;var a,s,o,r,h,l=t.toLowerCase().indexOf(i.toLowerCase());for(a=i.length;-1<l;)s=t.substr(0,l),o=t.substr(l,a),r=t.substr(l+a),h=this.settings.highlighterCustom?$(this.settings.highlighterCustom).text(o):$("<strong></strong>").text(o),n.append(document.createTextNode(s)).append(h),l=(t=r).toLowerCase().indexOf(i.toLowerCase());return n.append(document.createTextNode(t)).html()},showListWrap:function(){this.container.addClass("open")},hideListWrap:function(){this.container.removeClass("open")}});var e=window.navigator.userAgent;-1<e.indexOf("Safari")&&e.indexOf("Chrome")<1&&/application\/search/.test(location.href)?$(".search-body").on("click.close.list",n):$(document).on("click.close.list",n)}),window.Loading=function(t){t.parents("body").find(".loadingBtn").remove(),t.after('<a class="loadingBtn"></a>');var e={loadingText:"loading",maskedTarget:t};return new s.ui.controls.Loading($(".loadingBtn"),e)},window.ajaxRequest=function(i){var a=$.Deferred(),t={type:i.type,url:-1<i.url.indexOf("?")?i.url+"&random="+Math.random():i.url+"?random="+Math.random(),dataType:i.dataType||"json",async:!1!==i.async,data:i.data||{},contentType:i.contentType||"application/json",cache:i.cache||!0,dataFilter:i.dataFilter||null,beforeSend:function(t){t.setRequestHeader("X-Request-Type","ajax");var e=util.getQueryString("locale");e&&t.setRequestHeader("X-Request-Language",e),i.loadingPlugin&&i.loadingPlugin.start()},success:function(t){if("function"==typeof i.success&&-1==i.success(t))return;a.resolve(t)},error:function(t,e,n){!function(t,e){var n=t.responseText;e=t.status;"string"==typeof n&&/^{.*}$/.test(n)&&(n=JSON.parse(n)),"500"==e&&"100"==n.code?window.location.href=n.loginUrl:"function"==typeof i.error&&i.error(JSON.parse(t.responseText))}(t,e),a.reject(t)},complete:function(){i.loadingPlugin&&i.loadingPlugin.stop()}};return $.ajax(t),a.promise()},window.onpageshow=function(t){(t=t||window.event).persisted&&navigator.onLine&&window.location.reload()},function(){var t,e;window.$ctx=(t=window.location.href,e=t.indexOf("//"),e=(t=t.substring(e+2)).indexOf("/"),(e=(t=t.substring(e+1)).indexOf("/"))<0?"/"+t:"/"+t.substring(0,e)),window.$typeaheadURL="";var n=$(".side-menu-con").find("li > a");n.next("ul");n.on("click",function(){var t=$(this);t.toggleClass("dropup"),t.parent("li").toggleClass("active"),t.parent("li").siblings("li").children("a").removeClass("dropup"),t.parent("li").siblings("li").removeClass("active")})}(),function(){for(var t=$(".item-loginregist a"),e=0;e<t.length;e++){var n=$(t[e]);n.html();n.attr("href",pathObj.main_domain_path_https+"/application/passCenter/pass/")}$(".link-home").attr("href",pathObj.main_domain_path_http),$(".navbar-brand").attr("href",pathObj.main_domain_path_http),$(".itemlink-szse").attr("href",pathObj.main_domain_path_http),$(".itemlink-lefu").attr("href",pathObj.lefu_domain_path_http),$(".itemlink-jj").attr("href",pathObj.lefu_domain_path_http),$(".itemlink-investor").attr("href",pathObj.investor_domain_path_http),$(".itemlink-bond").attr("href",pathObj.bond_domain_path_http),$(".itemlink-ras").attr("href",pathObj.ras_domain_path_http),$(".itemlink-reits").attr("href",pathObj.reits_domain_path_http),$(".itemlink-szhk").attr("href",pathObj.main_domain_path_http+"/szhk/index.html"),$(".itemlink-qq").attr("href",pathObj.main_domain_path_http+"/option/index.html"),$(".itemlink-ydyl").attr("href",pathObj.main_domain_path_http+"/ydyl/index.html"),$(".itemlink-eipo").attr("href",pathObj.eipo_domain_path_http),$(".itemlink-szsePLE").attr("href",pathObj.main_domain_path_http+"/szsePLE/index.html"),$(".itemlink-goenglish").attr("href",pathObj.main_domain_path_http+"/English/index.html"),$(".itemlink-goenszhk").attr("href",pathObj.main_domain_path_http+"/enSzhk/index.html"),$(".itemlink-goenydyl").attr("href",pathObj.main_domain_path_http+"/enydyl/index.html"),window.util.isEnglish()&&($(".navbar-brand").attr("href",pathObj.main_domain_path_http+"/English/index.html"),$(".itemlink-szhk").attr("href",pathObj.main_domain_path_http+"/enSzhk/index.html"),$(".itemlink-ydyl").attr("href",pathObj.main_domain_path_http+"/enydyl/index.html"),$(".itemlink-qfii").attr("href",pathObj.main_domain_path_http+"/enqfii/index.html")),$(function(){var n=null;$(".szse-navbar .navbar-wrap .navbar-nav > li").mouseenter(function(){var t=$(this),e=(t.parents(".navbar-nav"),t.find(".dropdown-menu"));n=(window.util.getDevice().isPc,setTimeout(function(){e.slideDown(300)},300))}).mouseleave(function(){$(this).find(".dropdown-menu").hide(),clearTimeout(n)})}),$(".low_version")&&$(".low_version .low_close").click(function(){$(".low_version").hide()}),$("body").click(function(t){$(".footer-right .wxlink").removeClass("active")})}();var OTHERSETE=window.util.getOtherSite(),OTHERSETES=["szhk","option","rehearsal","ydyl","eipo","szsePLE","English"],GhotWords=[],CURRENTURL=location.href;-1<CURRENTURL.indexOf(pathObj.main_domain_path)&&OTHERSETES.indexOf(OTHERSETE)<0&&$.when(ajaxRequest({url:location.protocol+"//"+pathObj.main_domain_path+"/index/hot/index.json",async:!1})).done(function(t){0===t.code&&(t.data=t.data.splice(0,5),t.data.forEach(function(t){GhotWords.push(t.title)}))}),$().ready(function(){var e,t=$(".top-search-el .search-btn"),n=$(".top-search-el .search-input"),i=$(".top-search-el .clear-keyword"),a=$(".top-search-el .search-hot"),o=pathObj.search_path+"/suggest",r=window.util.getQueryString("keyword"),h=!0,l={isLefu:-1<CURRENTURL.indexOf(pathObj.lefu_domain_path),isInvestor:-1<CURRENTURL.indexOf(pathObj.investor_domain_path),isBond:-1<CURRENTURL.indexOf(pathObj.bond_domain_path),isSzhk:"szhk"===OTHERSETE,isOption:"option"===OTHERSETE,isRehearsal:"rehearsal"===OTHERSETE,isYdyl:"ydyl"===OTHERSETE,isEipo:-1<CURRENTURL.indexOf(pathObj.eipo_domain_path),isSzsePLE:"szsePLE"===OTHERSETE,isEnglish:"English"===OTHERSETE,isEnydyl:"enydyl"===OTHERSETE,isEnszhk:"enSzhk"===OTHERSETE,isFintech:-1<CURRENTURL.indexOf(pathObj.fin_domain_path)};function c(a,t){if(a.is(":focus"))var n=!0;var e={items:10,parentWrap:t,map:'{"text": "name", "value": "value"}',highlighterCustom:'<span class="red"></span>',location:"none",isHighlight:!1,addCusBond:function(e,t){if("true"===window.localStorage.getItem("isLogin")||"https:"===location.protocol){var n="callback=jsonpCallbackSearchHint&zqdm="+t;$.when(ajaxRequest({url:pathObj.bond_domain_path_https+pathObj.user_path+"/user/optional/addOne?"+encodeURIComponent(n),dataType:"jsonp"}))}else window.location.assign(pathObj.main_domain_path_https+"/application/userCenter/product/bond/");window.jsonpCallbackSearchHint=function(t){"0"===t.code?-1<t.message.indexOf("0个添加成功")?owsModal.modalMessage({type:"error",message:"添加自选失败"}):$(e.currentTarget).text("已添加").removeClass("keyword").addClass("c999").find(".glyphicon").hide():owsModal.modalMessage({type:"error",message:t.message})}},onSelected:function(t,e,n){if(rebuildRepairedPlaceholder(a,"请输入关键字"),r=(r=e.replace(/<[^>]+>/g,"")).replace(/\&/g,"%26")){var i=window.open();if(l.isLefu)try{i.location=pathObj.lefu_domain_path_http+"/application/search/index.html?keyword="+encodeURI(r)+"&r="+Date.now()}catch(t){window.open(pathObj.lefu_domain_path_http+"/application/search/index.html?keyword="+encodeURI(r)+"&r="+Date.now())}else if(l.isInvestor)try{i.location=pathObj.investor_domain_path_http+"/application/search/index.html?keyword="+encodeURI(r)+"&r="+Date.now()}catch(t){window.open(pathObj.investor_domain_path_http+"/application/search/index.html?keyword="+encodeURI(r)+"&r="+Date.now())}else if(l.isBond)try{i.location=pathObj.bond_domain_path_http+"/application/search/index.html?keyword="+encodeURI(r)+"&r="+Date.now()}catch(t){window.open(pathObj.bond_domain_path_http+"/application/search/index.html?keyword="+encodeURI(r)+"&r="+Date.now())}else if(l.isSzhk)try{i.location=pathObj.main_domain_path_http+"/szhk/application/search/index.html?keyword="+encodeURI(r)+"&r="+Date.now()}catch(t){window.open(pathObj.main_domain_path_http+"/szhk/application/search/index.html?keyword="+encodeURI(r)+"&r="+Date.now())}else if(l.isOption)try{i.location=pathObj.main_domain_path_http+"/option/application/search/index.html?keyword="+encodeURI(r)+"&r="+Date.now()}catch(t){window.open(pathObj.main_domain_path_http+"/option/application/search/index.html?keyword="+encodeURI(r)+"&r="+Date.now())}else if(l.isRehearsal)try{i.location=pathObj.main_domain_path_http+"/rehearsal/application/search/index.html?keyword="+encodeURI(r)+"&r="+Date.now()}catch(t){window.open(pathObj.main_domain_path_http+"/rehearsal/application/search/index.html?keyword="+encodeURI(r)+"&r="+Date.now())}else if(l.isYdyl)try{i.location=pathObj.main_domain_path_http+"/ydyl/application/search/index.html?keyword="+encodeURI(r)+"&r="+Date.now()}catch(t){window.open(pathObj.main_domain_path_http+"/ydyl/application/search/index.html?keyword="+encodeURI(r)+"&r="+Date.now())}else if(l.isEipo)try{i.location=pathObj.eipo_domain_path_http+"/application/search/index.html?keyword="+encodeURI(r)+"&r="+Date.now()}catch(t){window.open(pathObj.eipo_domain_path_http+"/application/search/index.html?keyword="+encodeURI(r)+"&r="+Date.now())}else if(l.isSzsePLE)try{i.location=pathObj.main_domain_path_http+"/szsePLE/application/search/index.html?keyword="+encodeURI(r)+"&r="+Date.now()}catch(t){window.open(pathObj.main_domain_path_http+"/szsePLE/application/search/index.html?keyword="+encodeURI(r)+"&r="+Date.now())}else if(l.isEnglish)try{i.location=pathObj.main_domain_path_http+"/English/application/search/index.html?keyword="+encodeURI(r)+"&r="+Date.now()}catch(t){window.open(pathObj.main_domain_path_http+"/English/application/search/index.html?keyword="+encodeURI(r)+"&r="+Date.now())}else if(l.isEnydyl)try{i.location=pathObj.main_domain_path_http+"/enydyl/application/search/index.html?keyword="+encodeURI(r)+"&r="+Date.now()}catch(t){window.open(pathObj.main_domain_path_http+"/enydyl/application/search/index.html?keyword="+encodeURI(r)+"&r="+Date.now())}else if(l.isEnszhk)try{i.location=pathObj.main_domain_path_http+"/enSzhk/application/search/index.html?keyword="+encodeURI(r)+"&r="+Date.now()}catch(t){window.open(pathObj.main_domain_path_http+"/enSzhk/application/search/index.html?keyword="+encodeURI(r)+"&r="+Date.now())}else if(l.isFintech)try{i.location=pathObj.fin_domain_path_http+"/fintech/application/search/index.html?keyword="+encodeURI(r)+"&r="+Date.now()}catch(t){window.open(pathObj.fin_domain_path_http+"/fintech/application/search/index.html?keyword="+encodeURI(r)+"&r="+Date.now())}else try{i.location=pathObj.main_domain_path_http+"/application/search/index.html?keyword="+encodeURI(r)+"&r="+Date.now()}catch(t){window.open(pathObj.main_domain_path_http+"/application/search/index.html?keyword="+encodeURI(r)+"&r="+Date.now())}d(0,n)}},onChanged:function(t,e){r=e.toString().replace(/<[^>]+>/g,""),i.show(),$.trim(e)||i.hide()},source:function(t,s){if(!window.util.isEnglish()){if((10===document.documentMode||11===document.documentMode)&&n&&h)return h=!1,void a.blur();var e=window.localStorage.getItem("search");if(t)$.when(ajaxRequest({url:o,type:"POST",contentType:"application/x-www-form-urlencoded",data:{keyword:t,size:10,host:(l.isLefu?"lefu":l.isInvestor&&"investor")||l.isBond&&"bond"||l.isFintech||void 0}})).done(function(t){for(var e=[],n="",i=0;i<t.length;i++){var a={};a="TERM"===t[i].type?{name:t[i].wordA,value:t[i].value,type:t[i].type}:(n=t[i].wordB.replace(/<[^>]+>/g,""),{name:"[ "+t[i].wordB+" ] "+t[i].wordA,value:t[i].value,code:n,type:t[i].type,isOptional:l.isBond&&"ZQ"===t[i].type&&!/131/.test(n)}),e.push(a)}s(e)});else{if(!e)return;e=JSON.parse(e),s(e)}}}};new s.ui.controls.searchHint(a,e),a.val(r)}function d(t,e){_.isEmpty(e)&&(e={name:r,value:r}),function(i){if(!(Object.keys(i).length<0||""===i.value||null==i.value)){var t=window.localStorage,e=t.getItem("search"),n=[];if(i.name=i.name.toString().replace(/<[^>]+>/g,""),i.value=i.value.toString().replace(/<[^>]+>/g,""),e){var a=(n=JSON.parse(e)).length;n.forEach(function(t,e,n){t.value==i.value&&n.splice(e,1)}),10<=(a=n.length)&&n.splice(a-1,1)}n.unshift({name:i.name,value:i.value,type:i.type}),t.setItem("search",JSON.stringify(n))}}(e)}e="",GhotWords.forEach(function(t){e+='<a href="javascript: void(0)" class="hotword-item" title="'+t+'">'+(5<t.length?t.slice(0,4)+"...":t)+"</a>"}),a.html(e),n.val(r),t.on("click",function(){if(r){var t=window.open();if(l.isLefu)try{t.location=pathObj.lefu_domain_path_http+"/application/search/index.html?keyword="+encodeURI(r)+"&r="+Date.now()}catch(t){window.open(pathObj.lefu_domain_path_http+"/application/search/index.html?keyword="+encodeURI(r)+"&r="+Date.now())}else if(l.isInvestor)try{t.location=pathObj.investor_domain_path_http+"/application/search/index.html?keyword="+encodeURI(r)+"&r="+Date.now()}catch(t){window.open(pathObj.investor_domain_path_http+"/application/search/index.html?keyword="+encodeURI(r)+"&r="+Date.now())}else if(l.isBond)try{t.location=pathObj.bond_domain_path_http+"/application/search/index.html?keyword="+encodeURI(r)+"&r="+Date.now()}catch(t){window.open(pathObj.bond_domain_path_http+"/application/search/index.html?keyword="+encodeURI(r)+"&r="+Date.now())}else if(l.isSzhk)try{t.location=pathObj.main_domain_path_http+"/szhk/application/search/index.html?keyword="+encodeURI(r)+"&r="+Date.now()}catch(t){window.open(pathObj.main_domain_path_http+"/szhk/application/search/index.html?keyword="+encodeURI(r)+"&r="+Date.now())}else if(l.isOption)try{t.location=pathObj.main_domain_path_http+"/option/application/search/index.html?keyword="+encodeURI(r)+"&r="+Date.now()}catch(t){window.open(pathObj.main_domain_path_http+"/option/application/search/index.html?keyword="+encodeURI(r)+"&r="+Date.now())}else if(l.isRehearsal)try{t.location=pathObj.main_domain_path_http+"/rehearsal/application/search/index.html?keyword="+encodeURI(r)+"&r="+Date.now()}catch(t){window.open(pathObj.main_domain_path_http+"/rehearsal/application/search/index.html?keyword="+encodeURI(r)+"&r="+Date.now())}else if(l.isYdyl)try{t.location=pathObj.main_domain_path_http+"/ydyl/application/search/index.html?keyword="+encodeURI(r)+"&r="+Date.now()}catch(t){window.open(pathObj.main_domain_path_http+"/ydyl/application/search/index.html?keyword="+encodeURI(r)+"&r="+Date.now())}else if(l.isEipo)try{t.location=pathObj.eipo_domain_path_http+"/application/search/index.html?keyword="+encodeURI(r)+"&r="+Date.now()}catch(t){window.open(pathObj.eipo_domain_path_http+"/application/search/index.html?keyword="+encodeURI(r)+"&r="+Date.now())}else if(l.isSzsePLE)try{t.location=pathObj.main_domain_path_http+"/szsePLE/application/search/index.html?keyword="+encodeURI(r)+"&r="+Date.now()}catch(t){window.open(pathObj.main_domain_path_http+"/szsePLE/application/search/index.html?keyword="+encodeURI(r)+"&r="+Date.now())}else if(l.isEnglish)try{t.location=pathObj.main_domain_path_http+"/English/application/search/index.html?keyword="+encodeURI(r)+"&r="+Date.now()}catch(t){window.open(pathObj.main_domain_path_http+"/English/application/search/index.html?keyword="+encodeURI(r)+"&r="+Date.now())}else if(l.isEnydyl)try{t.location=pathObj.main_domain_path_http+"/enydyl/application/search/index.html?keyword="+encodeURI(r)+"&r="+Date.now()}catch(t){window.open(pathObj.main_domain_path_http+"/enydyl/application/search/index.html?keyword="+encodeURI(r)+"&r="+Date.now())}else if(l.isEnszhk)try{t.location=pathObj.main_domain_path_http+"/enSzhk/application/search/index.html?keyword="+encodeURI(r)+"&r="+Date.now()}catch(t){window.open(pathObj.main_domain_path_http+"/enSzhk/application/search/index.html?keyword="+encodeURI(r)+"&r="+Date.now())}else if(l.isFintech)try{t.location=pathObj.fin_domain_path_http+"/fintech/application/search/index.html?keyword="+encodeURI(r)+"&r="+Date.now()}catch(t){window.open(pathObj.fin_domain_path_http+"/fintech/application/search/index.html?keyword="+encodeURI(r)+"&r="+Date.now())}else try{t.location=pathObj.main_domain_path_http+"/application/search/index.html?keyword="+encodeURI(r)+"&r="+Date.now()}catch(t){window.open(pathObj.main_domain_path_http+"/application/search/index.html?keyword="+encodeURI(r)+"&r="+Date.now())}d()}}),$(".top-search-el .search-hot").on("click",">a",function(t){r=$(t.currentTarget).attr("title"),window.open(pathObj.main_domain_path_http+"/application/search/index.html?keyword="+encodeURI(r)+"&r="+Date.now()),d(),n.val(r),rebuildRepairedPlaceholder($("#pcSearchInput"),"请输入关键字")}),n.on("blur",function(){t&&clearTimeout(t);var t=setTimeout(function(){i.hide()},300)}),i.on("click",function(t){$(t.target).parent().find(".search-input").val("").focus()}),c($("#pcSearchInput"),$(".szse-navbar-pc .search-form")),c($("#bottomSearchInput"),$(".footer-contract .search-form")),c($("#mobileSearchInput"),$(".szse-navbar-mobile .search-form"))});var curCatalogId=curCatalogId||"",pathObj=pathObj||{};function formateDate(t){var e=new Date(t),n=e.getFullYear(),i=e.getMonth()+1,a=e.getDate();return n+"-"+(i<10?"0"+i:i)+"-"+(a<10?"0"+a:a)}function getNewStrs(t,e){for(var n in t)if(-1<n.indexOf(e)&&0<t[n].length)for(var i=0;i<t[n].length;i++){var a=t[n][i].title;t[n][i].secName;if(0<a.indexOf(":")){var s=a.indexOf(":"),o=a.substring(s-1,s),r=a.substring(s+1,s+2);if(1!=$.isNumeric(+o)||1!=$.isNumeric(+r)){var h=a.split(":")[0];t[n][i].secName=t[n][i].secName==h?t[n][i].secName:h,t[n][i].title=a.split(":")[1]}}else if(0<a.indexOf("：")){h=a.split("：")[0];t[n][i].secName=t[n][i].secName==h?t[n][i].secName:h,t[n][i].title=a.split("：")[1]}}return t}!function(t){var e=window.location.search.substring(1);if(!(-1<location.href.indexOf("application/userCenter"))){var n=pathObj.report_path+"/ShowReport/data?SHOWTYPE=JSON",i=t(".report-container");if(1<i.length)for(var a=e.indexOf("="),s=e.indexOf("&"),o="CATALOGID"==e.substring(0,a).toUpperCase(),r=e.substring(a+1,s),h=0;h<i.length;h++){var l=t(i[h]).attr("data-s-catalog-id");n=pathObj.report_path+"/ShowReport/data?SHOWTYPE=JSON&CATALOGID="+e.substring(a+1),o?r==l&&t(i[h]).attr("data-s-data-url",n):(n=pathObj.report_path+"/ShowReport/data?SHOWTYPE=JSON&CATALOGID="+l+"&"+e,t(i[h]).attr("data-s-data-url",n))}else if(l=t(i).attr("data-s-catalog-id"),0<e.length&&0<i.length){if(-1<e.indexOf("&"))for(var c=e.split("&"),d=0;d<c.length;d++){var p=c[d].split("=");"ticket"!==p[0]&&("CATALOGID"==p[0].toUpperCase()?"catalogId"==p[0]||"tabkey"==p[0]?n+="&"+p[0].toUpperCase()+"="+p[1]:n+="&"+p[0]+"="+p[1]:(n+=0===d?"&CATALOGID="+l+"&"+p[0]+"="+p[1]:"&"+p[0]+"="+p[1],"tabkey"!=p[0]&&"tabKey"!=p[0]&&"TABKEY"!=p[0]||i.attr("data-s-active-tabkey",p[1])))}else"ticket"!==(c=e.split("="))[0]&&1<c.length?"catalogId"==c[0]?n+="&"+c[0].toUpperCase()+"="+c[1]:"TABKEY"==c[0].toUpperCase()?(n=null,i.attr("data-s-active-tabkey",c[1])):n="TABKEY-select"===c[0]?pathObj.report_path+"/ShowReport/data?SHOWTYPE=JSON&CATALOGID="+l+"&TABKEY="+c[1]:pathObj.report_path+"/ShowReport/data?SHOWTYPE=JSON&CATALOGID="+l+"&"+c[0]+"="+c[1]:n="";i.attr("data-s-data-url",n)}}}(jQuery),function(){var t=$(".nav-customize").attr("href");if(t&&-1<t.indexOf("//big5.szse.cn")&&-1<t.indexOf("userCenter/product/bond"))return t=t.replace(/bond\.szse\.cn/g,"www.szse.cn"),$(".nav-customize").attr("href",t);$(".nav-customize").attr("href",pathObj.main_domain_path_https+t)}(),function(){for(var t=$(".g-banner-txt a"),e=0;e<t.length;e++)0!=e&&e!=t.length-1&&($(t[e]).attr("href","javascript:void(0);"),$(t[e]).addClass("no-href"))}(),window.util.dateFormat=function(t,e){var n={"M+":t.getMonth()+1,"d+":t.getDate(),"H+":t.getHours(),"m+":t.getMinutes(),"s+":t.getSeconds(),"q+":Math.floor((t.getMonth()+3)/3),S:t.getMilliseconds()};for(var i in/(y+)/.test(e)&&(e=e.replace(RegExp.$1,(t.getFullYear()+"").substr(4-RegExp.$1.length))),n)new RegExp("("+i+")").test(e)&&(e=e.replace(RegExp.$1,1==RegExp.$1.length?n[i]:("00"+n[i]).substr((""+n[i]).length)));return e},window.util.windowOpen=function(t,e){},$(function(){$("#dl-menu")&&($("#dl-menu").dlmenu(),$(".navipone_block").click(function(t){$(".mobile-search").fadeIn(400),rebuildRepairedPlaceholder($("#mobileSearchInput"),"请输入关键字")}),$(".mobile-search_close").click(function(t){$(".mobile-search").fadeOut(400)}))});var languagesData=[{value:"110000",text:"简体中文",parentCode:"102"},{value:"120000",text:"English",parentCode:"102"}],languageSelectexOptions={data:languagesData,onSelected:function(t,e){if("120000"==e.value){var n=window.open();try{n.location="http://www.szse.cn/main/en"}catch(t){window.open("http://www.szse.cn/main/en")}}}},languageSelectex=new s.ui.controls.Selectex(".languageselectex",languageSelectexOptions);languageSelectex.getApi().setValue("110000");var relatedlinksOptions={},relatedlinksDropdown=new s.ui.controls.Dropdown("#relatedlinksBtn",relatedlinksOptions);function httpsToHttp(t){var e=$(t),n=pathObj.bond_domain_path;-1<pathObj.bond_domain_path.indexOf(":81")&&(n=pathObj.bond_domain_path.split(":")[0]);for(var i=-1<window.location.href.indexOf(n)?pathObj.bond_domain_path_http:pathObj.main_domain_path_http,a=0;a<e.length;a++){var s=$(e[a]).attr("href");if(null!=s)if(-1<s.indexOf("../")){var o=s.lastIndexOf("../");s=s.substring(o+3),$(e[a]).attr("href",i+"/"+s)}else if("/"==s[0])$(e[a]).attr("href",i+s);else if(s.indexOf("http")<="-1")$(e[a]).attr("href","http"+s);else if("-1"<s.indexOf("/www/bond")){var r=s.indexOf("/www/bond"),h=s.substring(0,r+9);s=s.replace(h,pathObj.bond_domain_path_http),$(e[a]).attr("href",s)}}}function adjustDialog(){var a,t=$(document).find(".c-modal");$.each(t,function(){$(this).is(":hidden")||(a=$(this).find(".modal-dialog"))}),$(window).on("resize",function(){var t=document.documentElement.clientHeight,e=document.documentElement.clientWidth,n=a.height(),i=a.width();n<t&&a.css({position:"absolute",left:e/2-i/2,top:t/2-n/2}),"absolute"===a.css("position")&&a.css({left:e/2-i/2,top:t/2-n/2})})}function getSize(r){$(window).resize(function(){var t=document.documentElement.clientHeight,e=document.documentElement.clientWidth;if("block"==$("#c-modal-messagebox "+r).css("display")){var n=$("#c-modal-messagebox .modal-dialog"),i=n.height(),a=n.width();a<e&&n.css({left:e/2-a/2,top:t/2-i/2}),e<="450"?n.css({width:"100%",left:"0"}):n.css("width","450px")}if("block"==$("#c-modal-base "+r).css("display")){var s=$("#c-modal-base .modal-dialog"),o=s.width();s.height();o<e&&s.css({left:e/2-o/2}),e<="768"?s.css({width:"100%",left:"0"}):s.css("width","")}})}function IEVersion(){var t=navigator.userAgent,e=-1<t.indexOf("compatible")&&-1<t.indexOf("MSIE"),n=-1<t.indexOf("Edge")&&!e,i=-1<t.indexOf("Trident")&&-1<t.indexOf("rv:11.0");if(e){new RegExp("MSIE (\\d+\\.\\d+);").test(t);var a=parseFloat(RegExp.$1);return 7==a?7:8==a?8:9==a?9:10==a?10:6}return n?"edge":i?11:-1}$(document).on("modal.on.shown",function(){adjustDialog()}),function(){var t;window.console=window.console||((t={}).log=t.warn=t.debug=t.info=t.error=t.time=t.dir=t.profile=t.clear=t.exception=t.trace=t.assert=function(){},t),"classList"in document.documentElement||Object.defineProperty(HTMLElement.prototype,"classList",{get:function(){var a=this;function t(i){return function(t){var e=a.className.split(/\s+/g),n=e.indexOf(t);i(e,n,t),a.className=e.join(" ")}}return{add:t(function(t,e,n){~e||t.push(n)}),remove:t(function(t,e){~e&&t.splice(e,1)}),toggle:t(function(t,e,n){~e?t.splice(e,1):t.push(n)}),contains:function(t){return!!~a.className.split(/\s+/g).indexOf(t)},item:function(t){return a.className.split(/\s+/g)[t]||null}}}})}(),$("#weixin_qrcode").qrcode({render:"canvas",width:128,height:128,typeNumber:-1,correctLevel:0,background:"#ffffff",foreground:"#000000",text:location.href}),$(".elevator_totop").click(function(){$("html, body").animate({scrollTop:0},700)}),function(){if(0==$(".c-modal-container").length){$("body").append('<div class="c-modal-container">\t\x3c!-- 基类(静态文件) --\x3e\t<div id="c-modal-base"></div>\t\x3c!-- 信息info/警告warning/错误error/确认confirm(yes-no-cancel, ok-cancel, confirm-cancel) --\x3e\t<div id="c-modal-messagebox"></div>\t<div id="c-modal-page"></div></div>')}}(),window.owsModal={open:function(t){return s.utilities.Modal().open(t)},message:function(t){0==$(".modal-backdrop").length&&s.utilities.Modal().message(t)},modalMessage:function(t){s.utilities.Modal().message(t)}};var createPageHTML=function(t,e,i,a,o,n){var r=20,h={totalSize:t*r,pageSize:r,pageIndex:e,onPageIndexChange:function(t,e){var n="_"+e;0==e&&(n=""),o||(window.location.href=i+n+"."+a)}};if(window.util.isEnglish()&&(h.enlangflag=!0),o){r=10;new s.ui.controls.Paginator(n+" .paginator-article-cms",h);$(n+" .paginator-article-cms .page-cur").val(e+1)}else{new s.ui.controls.Paginator(".paginator-article-cms",h);$(".paginator-article-cms .page-cur").val(e+1)}};!function(){"use strict";var t,n={gap:20,colums:3,perlist:[],aspectRatio:{},getAspectRatioUpdate:[],loadIndex:0};function e(t){this.container=t.container.selector?t.container[0]:t.container,this.initOpts(t),this.init()}e.prototype={constructor:e,init:function(){this.getAspectRatio(),this.render()},load:function(t){this.opts=_.cloneDeep(_.extend(this.opts,t)),this.getAspectRatio(),this.render()},initOpts:function(t){t=t||{},this.opts=_.cloneDeep(_.extend({},n,this.opts,t));var e=1<=this.opts.colums?(this.opts.colums-1)*this.opts.gap:0;this.opts.containerWidth=this.container.offsetWidth,this.opts.items=this.container.children,this.opts.itemWith=(this.opts.containerWidth-e)/this.opts.colums},getAspectRatio:function(){var t=this.opts.index,e=this.opts.items[t],n=e.offsetHeight/e.offsetWidth;this.opts.aspectRatio[t]=n},getAspectRatioUpdate:function(){var a=this;a.opts.getAspectRatioUpdate=[],_.forEach(this.opts.items,function(t,e){var n=a.opts.items[e],i=n.offsetHeight/n.offsetWidth;a.opts.getAspectRatioUpdate.push(i)})},render:function(){var e=0,t=this.opts.perlist,n=this.opts.index,i=this.opts.loadIndex,a=this.opts.itemWith*this.opts.aspectRatio[n],s=this.opts.items[n];if(s.style.width=this.opts.itemWith+"px",i<this.opts.colums)s.style.top=0,s.style.left=(this.opts.itemWith+this.opts.gap)*i+"px",t.push(a);else{var o=t[0],r=0;_.forEach(t,function(t,e){t<o&&(o=t,r=e)});var h=(this.opts.itemWith+this.opts.gap)*r;s.style.top=t[r]+this.opts.gap+"px",s.style.left=h+"px",t[r]=t[r]+a+this.opts.gap}t.forEach(function(t){e<t&&(e=t)}),this.container.style.height=e+"px",s.classList.add("show"),this.opts.loadIndex++,this.done()},reRender:function(){var o=this,e=0,r=[];_.forEach(this.opts.items,function(t,e){var n=o.opts.itemWith*o.opts.getAspectRatioUpdate[e];if(t.style.width=o.opts.itemWith+"px",e<o.opts.colums)t.style.top=0,t.style.left=(o.opts.itemWith+o.opts.gap)*e+"px",r.push(n);else{var i=r[0],a=0;_.forEach(r,function(t,e){t<i&&(i=t,a=e)});var s=(o.opts.itemWith+o.opts.gap)*a;t.style.top=r[a]+o.opts.gap+"px",t.style.left=s+"px",r[a]=r[a]+n+o.opts.gap}}),r.forEach(function(t){e<t&&(e=t)}),this.container.style.height=e+"px"},update:function(t){this.opts.isLoaded&&(this.initOpts(t),this.getAspectRatioUpdate(),this.reRender())},done:function(){this.opts.isLoaded&&(this.opts.perlist=[],this.opts.aspectRatio={},this.opts.loadIndex=0,this.update()),this.opts.onInitialized}},t=function(){return this||(0,eval)("this")}(),"undefined"!=typeof module&&module.exports?module.exports=e:"function"==typeof define&&define.amd?define(function(){return e}):"WaterFall"in t||(t.WaterFall=e)}(),function(){if("http://www.szse.cn"!=pathObj.main_domain_path_http){var n=location.port?":"+location.port:"",i=location.hostname.split(".")[0].split("-")[1];i=i?"-"+i:"";var a=["www.szse.cn","bond.szse.cn","fund.szse.cn","investor.szse.cn","eipo.szse.cn","chinext.szse.cn"],s=/((.*)\/\/)((\w+)-?\w*)((\.szse\.cn)(:\d+)?(.*))/;$("a").each(function(){for(var t=$(this).attr("href"),e=0;e<a.length;e++)if(t&&0<t.indexOf(a[e])){t=t.replace(s,"$1$4"+i+"$6"+n+"$8"),$(this).attr("href",t);break}})}}();